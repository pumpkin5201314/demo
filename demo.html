<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>jsonp仿百度搜索联想词功能</title>

	<style type="text/css" media="screen">
		*{
			padding:0px;
			margin:0px;
			list-style: none;
		}
		input{
			width:400px;
			height:34px;
		
		}
		ul{
			display: none;
			width:400px;
			border:1px solid #ccc;
			/*height:300px;*/
		}
		.wra{
			width:400px;
			margin:100px auto;
		}
	</style>
</head>
<body>
	<div class="wra">
		 <input type="text" name="" >
		 <ul>
		 	 
		 </ul>

	</div>
	
	 <script>
	 	var oInput=document.getElementsByTagName("input")[0],
	 	     oUl=document.getElementsByTagName("ul")[0];
	 	oInput.oninput=function(){
	 			var value=this.value;
	 			var oScript=document.createElement('script');
	 			oScript.src="http://suggestion.baidu.com/su?ie=utf-action=json&wd="+value+"&cb=aa";
	 			document.body.appendChild(oScript);

	 	}

	 	 function aa(data){
	 	 	// console.log(data)
	 	 	var s=data.s,
	 	 	str='';
	 	 	if(s.length>0){
	 	 		s.forEach(function(ele,index){
	 	 		str+='<li>'+ele+'</li>';
	 	 	})
	 	 	oUl.innerHTML=str;
	 	 	oUl.style.display='block';
	 	 	}else{
	 	 		oUl.style.display='none';
	 	 	}
	 	 	
	 	 	
	 	 }

	 </script>
</body>
</html>